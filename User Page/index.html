<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MAXX Energy - User Profile</title>
    <link href="style.css" rel="stylesheet">
</head>
<body>
    <header>
        <h1>User Profile</h1>
    </header>
	<nav>
		<ul>
			<li><a href="index.html">Home<a/></li>
			<li><a href="login.html">Login<a/></li>
			<li><a href="register.html">Register<a/></li>
			<li><a href="about.html">About<a/></li>
		</ul>
	</nav>
	<section>
		<img src="userpic.png" width="100" height="100">
		
		<!-- Name -->
		<div class="field">
			<strong>Name:</strong>
			<span class="display" id="name-display">John Doe</span>
			<input type="text" class="edit" id="name-edit">
			<div class="btn-container">
				<button class="icon-btn edit-btn">✏️</button>
				<button class="icon-btn cancel-btn" style="display:none;">❌</button>
			</div>
		</div>

		<!-- Email -->
		<div class="field">
			<strong>Email:</strong>
			<span class="display" id="email-display">john@example.com</span>
			<input type="email" class="edit" id="email-edit">
			<div class="btn-container">
				<button class="icon-btn edit-btn">✏️</button>
				<button class="icon-btn cancel-btn" style="display:none;">❌</button>
			</div>
		</div>

		<!-- Location -->
		<div class="field">
			<strong>Location:</strong>
			<span class="display" id="location-display">Earth</span>
			<input type="text" class="edit" id="location-edit">
			<div class="btn-container">
				<button class="icon-btn edit-btn">✏️</button>
				<button class="icon-btn cancel-btn" style="display:none;">❌</button>
			</div>
		</div>

		<!-- About Me -->
		<div class="field">
			<strong>About:</strong>
			<span class="display" id="about-display">Web developer who loves coding and coffee.</span>
			<textarea class="edit" id="about-edit"></textarea>
			<div class="btn-container">
				<button class="icon-btn edit-btn">✏️</button>
				<button class="icon-btn cancel-btn" style="display:none;">❌</button>
			</div>
		</div>

	</section>
	<section>
			<h1>Skillset</h1>
		<!-- Skills text field -->
		<div class="field">
			<span class="display" id="skills-display">List of skills here.</span>
			<textarea class="edit" id="skills-edit"></textarea>
			<div class="btn-container">
				<button class="icon-btn edit-btn">✏️</button>
				<button class="icon-btn cancel-btn" style="display:none;">❌</button>
			</div>
		</div>
	</section>
	<section>
			<h1>Social Links</h1>
			<hr>
				<ul>
					<li>YouTube</li>
					<li>Twitch</li>
					<li>Reddit</li>
				</ul>
	</section>
    <footer>
		<img src="logo.svg" width="80" height="80">
        <p>MAXX Energy &copy 2025</p>
    </footer>
<script>
    const fields = document.querySelectorAll(".field");
    let activeEditField = null;
	
    fields.forEach(field => {
      const displaySpan = field.querySelector(".display");
      const editInput = field.querySelector(".edit");
      const editBtn = field.querySelector(".edit-btn");
      const cancelBtn = field.querySelector(".cancel-btn");

      let originalValue = displaySpan.textContent.trim();
      let editing = false;

      editBtn.addEventListener("click", () => {
        if (!editing) {
          // Close any other open edit fields
          if (activeEditField && activeEditField !== field) {
            const otherDisplay = activeEditField.querySelector(".display");
            const otherInput = activeEditField.querySelector(".edit");
            const otherEditBtn = activeEditField.querySelector(".edit-btn");
            const otherCancelBtn = activeEditField.querySelector(".cancel-btn");
            otherDisplay.style.display = "inline";
            otherInput.style.display = "none";
            otherEditBtn.textContent = "✏️";
            otherCancelBtn.style.display = "none";
            activeEditField.editing = false;
          }

          // Enter edit mode
          originalValue = displaySpan.textContent.trim();
          editInput.value = originalValue;
          displaySpan.style.display = "none";
          editInput.style.display = "inline";
          editBtn.textContent = "✔️";
          cancelBtn.style.display = "inline";
          editing = true;
          activeEditField = field;
        } else {
          // Save changes
          const newValue = editInput.value.trim();
          if (newValue === "" || newValue === originalValue) {
            displaySpan.textContent = originalValue;
          } else {
            displaySpan.textContent = newValue;
          }

          // Exit edit mode
          displaySpan.style.display = "inline";
          editInput.style.display = "none";
          editBtn.textContent = "✏️";
          cancelBtn.style.display = "none";
          editing = false;
          activeEditField = null;
        }
      });

      cancelBtn.addEventListener("click", () => {
        // Cancel changes and revert
        displaySpan.textContent = originalValue;
        displaySpan.style.display = "inline";
        editInput.style.display = "none";
        editBtn.textContent = "✏️";
        cancelBtn.style.display = "none";
        editing = false;
        activeEditField = null;
      });

      field.editing = editing;
    });
</script>
</body>
</html>